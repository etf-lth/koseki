{% extends "base.html" %}
{% from "macros.html" import render_field, status, group, person_tabs, gravatar_blob, fee_id %}
{% block title %}{{ person.fname }} {{ person.lname }}{% endblock %}
{% block content %}
{{ gravatar_blob(gravatar(person.email)) }}
<h1>{{ person.fname }} {{ person.lname }}</h1>
{{ person_tabs(person.uid, 'fees') }}
<table class="table table-striped table-condensed">
    <tr>
        <th style="width: 24px">#</th>
        <th>Registered</th>
        <th>Start</th>
        <th>End</th>
        <th>Amount</th>
        <th>Method</th>
        <th>Registered by</th>
    </tr>
    {% if person.fees %}
        {% for fee in person.fees %}
            <tr>
                <td>{{ fee_id(fee.fid, fee.start, fee.end, now()) }}</td>
                <td>{{ fee.registered|date }}</td>
                <td>{{ fee.start|date }}</td>
                <td>{{ fee.end|date }}</td>
                <td>{{ fee.amount }}</td>
                <td><span class="label label-info">{{ fee.method if fee.method else 'N/A' }}</span></td>
                <td><a href="/user/{{ fee.registered_by }}">{{ uid_to_name(fee.registered_by) }}</a></td>
            </tr>
        {% endfor %}
    {% else %}
        <tr>
            <td colspan="6">
                <i>No fees registered so far.</i>
            </td>
        </tr>
    {% endif %}
</table>
{% endblock %}


